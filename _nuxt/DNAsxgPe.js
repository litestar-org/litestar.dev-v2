import{t as e}from"./3ipVC6po.js";import{Dr as t,Dt as n,Mn as r,Mr as i,Ot as a,Pn as o,Pr as s,Tn as c,U as l,_r as u,er as d,et as f,rr as p,ut as m}from"#entry";var h=`rovingFocusGroup.onEntryFocus`,g={bubbles:!1,cancelable:!0},_={ArrowLeft:`prev`,ArrowUp:`prev`,ArrowRight:`next`,ArrowDown:`next`,PageUp:`first`,Home:`first`,PageDown:`last`,End:`last`};function v(e,t){return t===`rtl`?e===`ArrowLeft`?`ArrowRight`:e===`ArrowRight`?`ArrowLeft`:e:e}function y(e,t,n){let r=v(e.key,n);if(!(t===`vertical`&&[`ArrowLeft`,`ArrowRight`].includes(r))&&!(t===`horizontal`&&[`ArrowUp`,`ArrowDown`].includes(r)))return _[r]}function b(e,t=!1){let r=n();for(let i of e)if(i===r||(i.focus({preventScroll:t}),n()!==r))return}function x(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var[S,C]=a(`RovingFocusGroup`),w=o({__name:`RovingFocusGroup`,props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`entryFocus`,`update:currentTabStopId`],setup(n,{expose:a,emit:o}){let _=n,v=o,{loop:y,orientation:x,dir:S}=i(_),w=e(S),T=m(_,`currentTabStopId`,v,{defaultValue:_.defaultCurrentTabStopId,passive:_.currentTabStopId===void 0}),E=t(!1),D=t(!1),O=t(0),{getItems:k,CollectionSlot:A}=l({isProvider:!0});function j(e){let t=!D.value;if(e.currentTarget&&e.target===e.currentTarget&&t&&!E.value){let t=new CustomEvent(h,g);if(e.currentTarget.dispatchEvent(t),v(`entryFocus`,t),!t.defaultPrevented){let e=k().map(e=>e.ref).filter(e=>e.dataset.disabled!==``);b([e.find(e=>e.getAttribute(`data-active`)===``),e.find(e=>e.getAttribute(`data-highlighted`)===``),e.find(e=>e.id===T.value),...e].filter(Boolean),_.preventScrollOnEntryFocus)}}D.value=!1}function M(){setTimeout(()=>{D.value=!1},1)}return a({getItems:k}),C({loop:y,dir:w,orientation:x,currentTabStopId:T,onItemFocus:e=>{T.value=e},onItemShiftTab:()=>{E.value=!0},onFocusableItemAdd:()=>{O.value++},onFocusableItemRemove:()=>{O.value--}}),(e,t)=>(d(),c(s(A),null,{default:u(()=>[r(s(f),{tabindex:E.value||O.value===0?-1:0,"data-orientation":s(x),as:e.as,"as-child":e.asChild,dir:s(w),style:{outline:`none`},onMousedown:t[0]||=e=>D.value=!0,onMouseup:M,onFocus:j,onBlur:t[1]||=e=>E.value=!1},{default:u(()=>[p(e.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`as`,`as-child`,`dir`])]),_:3}))}});export{y as a,b as i,S as n,x as o,_ as r,w as t};