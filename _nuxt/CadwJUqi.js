import{t as e}from"./Bev_IC9g.js";import{a as t,i as n,n as r,o as i}from"./DNAsxgPe.js";import{Cn as a,Mn as o,Pn as s,Pr as c,Qn as l,Tn as u,U as d,Zn as f,_r as p,er as m,et as h,qn as g,rr as _}from"#entry";var v=s({__name:`RovingFocusItem`,props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(s){let v=s,y=r(),b=e(),x=a(()=>v.tabStopId||b),S=a(()=>y.currentTabStopId.value===x.value),{getItems:C,CollectionItem:w}=d();f(()=>{v.focusable&&y.onFocusableItemAdd()}),l(()=>{v.focusable&&y.onFocusableItemRemove()});function T(e){if(e.key===`Tab`&&e.shiftKey){y.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let r=t(e,y.orientation.value,y.dir.value);if(r!==void 0){if(e.metaKey||e.ctrlKey||e.altKey||!v.allowShiftKey&&e.shiftKey)return;e.preventDefault();let t=[...C().map(e=>e.ref).filter(e=>e.dataset.disabled!==``)];if(r===`last`)t.reverse();else if(r===`prev`||r===`next`){r===`prev`&&t.reverse();let n=t.indexOf(e.currentTarget);t=y.loop.value?i(t,n+1):t.slice(n+1)}g(()=>n(t))}}return(e,t)=>(m(),u(c(w),null,{default:p(()=>[o(c(h),{tabindex:S.value?0:-1,"data-orientation":c(y).orientation.value,"data-active":e.active?``:void 0,"data-disabled":e.focusable?void 0:``,as:e.as,"as-child":e.asChild,onMousedown:t[0]||=t=>{e.focusable?c(y).onItemFocus(x.value):t.preventDefault()},onFocus:t[1]||=e=>c(y).onItemFocus(x.value),onKeydown:T},{default:p(()=>[_(e.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`data-active`,`data-disabled`,`as`,`as-child`])]),_:3}))}});export{v as t};