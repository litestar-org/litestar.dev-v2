import"./Bev_IC9g.js";import{n as e,r as t,t as n}from"./DlMKcpXo.js";import{A as r,Cn as i,Dn as a,Dr as o,E as s,En as c,Fr as l,Kn as u,Mn as d,Pr as f,Tn as p,Wt as m,_r as h,ar as g,cn as _,cr as v,d as y,er as b,ln as x,m as S,on as C,un as w,yn as T}from"#entry";import{t as E}from"./B2q3_cSu.js";import{t as D}from"./V-Vrqzfu.js";var O={slots:{base:`rounded-md w-full`,overlay:`fixed inset-0 bg-default/75 backdrop-blur-sm will-change-opacity`,content:`fixed inset-0 flex items-center justify-center cursor-zoom-out focus:outline-none p-4 sm:p-8`},variants:{zoom:{true:`will-change-transform`},open:{true:``}},compoundVariants:[{zoom:!0,open:!1,class:`cursor-zoom-in`}]},k=[`onClick`],A=Object.assign({inheritAttrs:!1},{__name:`ProseImg`,props:{src:{type:String,required:!0},alt:{type:String,required:!0},width:{type:[String,Number],required:!1},height:{type:[String,Number],required:!1},class:{type:null,required:!1},zoom:{type:Boolean,required:!1,default:!0},ui:{type:null,required:!1}},setup(A){let j=A,M=m(),[N,P]=s(),F=o(!1),I=i(()=>S({extend:S(O),...M.ui?.prose?.img||{}})({zoom:j.zoom,open:F.value})),L=i(()=>{if(j.src?.startsWith(`/`)&&!j.src.startsWith(`//`)){let e=x(w(C().app.baseURL));if(e!==`/`&&!j.src.startsWith(e))return _(e,j.src)}return j.src}),R=i(()=>`${L.value}::${v()}`);return j.zoom&&r(window,`scroll`,()=>{F.value=!1}),(r,i)=>(b(),a(T,null,[d(f(N),null,{default:h(()=>[(b(),p(g(f(y)),u({src:L.value,alt:A.alt,width:A.width,height:A.height},r.$attrs,{class:I.value.base({class:[j.ui?.base,j.class]})}),null,16,[`src`,`alt`,`width`,`height`,`class`]))]),_:1}),A.zoom?(b(),p(f(t),{key:0,open:F.value,"onUpdate:open":i[0]||=e=>F.value=e,modal:!1},{default:h(({close:t})=>[d(f(n),{"as-child":``},{default:h(()=>[d(f(E),{"layout-id":R.value,"as-child":``,transition:{type:`spring`,bounce:.2,duration:.4}},{default:h(()=>[d(f(P))]),_:1},8,[`layout-id`])]),_:1}),d(f(e),null,{default:h(()=>[d(f(D),null,{default:h(()=>[F.value?(b(),p(f(E),{key:0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},class:l(I.value.overlay({class:[j.ui?.overlay]}))},null,8,[`class`])):c(``,!0),F.value?(b(),a(`div`,{key:1,class:l(I.value.content({class:[j.ui?.content]})),onClick:t},[d(f(E),{"as-child":``,"layout-id":R.value,transition:{type:`spring`,bounce:.2,duration:.4}},{default:h(()=>[d(f(P))]),_:1},8,[`layout-id`])],10,k)):c(``,!0)]),_:2},1024)]),_:2},1024)]),_:1},8,[`open`])):(b(),p(f(P),{key:1}))],64))}});export{A as default};